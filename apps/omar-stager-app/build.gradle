assets {
  minifyJs = true
  minifyCss = true
  includes = ["fonts/*"]
  excludes = ["**/*-debug.js", "**/*-deps.js", "**/*.gz", "**/*.txt", "**/*.less", "**/*.html", "**/i18n/**", "**/",
      ".grunt/**", "**/locale/**", "webjars/jquery/2.1.4/src/intro.js", "webjars/jquery/2.1.4/src/outro.js"]
}

grails {
  plugins {
    compile project(":omar-stager-plugin")
    if ( System.getenv('O2_INLINE_BUILD') ) {
      runtime project(":omar-opir-plugin")
      runtime project(":omar-raster-plugin")
      runtime project(":omar-video-plugin")
    }
  }
}

dependencies {
  if ( ! System.getenv('O2_INLINE_BUILD') ) {
      compile "io.ossim.omar.plugins:omar-core-plugin:${latestGradleIdentifier}"
      compile "io.ossim.omar.plugins:omar-stager-plugin:${latestGradleIdentifier}"
      compile "io.ossim.omar.plugins:omar-hibernate-spatial-plugin:${latestGradleIdentifier}"

      runtime "io.ossim.omar.plugins:omar-opir-plugin:${latestGradleIdentifier}"
      runtime "io.ossim.omar.plugins:omar-raster-plugin:${latestGradleIdentifier}"
      runtime "io.ossim.omar.plugins:omar-video-plugin:${latestGradleIdentifier}"
  }
}
